<!DOCTYPE html>
<html>
<head>
    <meta charset="utf8">
    <title>Facebook Pixel sample | Angulartics</title>
    <link rel="stylesheet" href="//bootswatch.com/cosmo/bootstrap.min.css">
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.min.js"></script>
    <script src="/node_modules/angulartics/dist/angulartics.min.js"></script>
    <script src="/dist/angulartics-facebook-pixel.min.js"></script>
    <script>
        !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
                n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
            n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
            t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
                document,'script','//connect.facebook.net/en_US/fbevents.js');
        fbq('init', '493596030817122');
    </script>
    <noscript>
        <img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=493596030817122&ev=PageView&noscript=1">
    </noscript>
</head>
<body ng-app="sample">

<div class="navbar navbar-default">
    <div class="navbar-header">
        <a class="navbar-brand" href="#/">My App</a>
    </div>
    <div>
        <ul class="nav navbar-nav">
            <li><a href="#/a">Page A</a></li>
            <li><a href="#/b">Page B</a></li>
            <li><a href="#/c">Page C</a></li>
        </ul>
    </div>
</div>

<div class="container">
    <div ng-view></div>
    <hr>

    <p>
        <button analytics-on="click" analytics-event="ViewContent" class="btn btn-default">View Content</button>

        <!-- same as analytics-on="click", because 'click' is the default -->
        <button analytics-on analytics-event="AddToCart" analytics-category="Commands" class="btn btn-primary">Add to Cart</button>

        <!-- same as analytics-event="Such Event", because is inferred from innerText -->
        <button analytics-on analytics-category="Commands" analytics-value="wow" class="btn btn-success">Such Event</button>
    </p>

    <hr>

    <p class="alert alert-success">
        Open the network inspector in your browser, click any of the nav options or buttons above and you'll see the analytics
        request being executed. Then check <a class="alert-link" href="https://www.facebook.com/ads/manager/data_sources/pixels/" target="_blank">your Custom Audience Pixel page in Ads Manager</a>.
    </p>
</div>

<script>
    angular.module('sample', ['angulartics', 'angulartics.facebook.pixel'])
            .config(function ($routeProvider, $analyticsProvider) {
                $routeProvider
                        .when('/',  { template: '<h1>Root Page</h1>', controller: 'SampleCtrl' })
                        .when('/a', { template: '<h1>Page "A"</h1>',  controller: 'SampleCtrl' })
                        .when('/b', { template: '<h1>Page "B"</h1>',  controller: 'SampleCtrl' })
                        .when('/c', { template: '<h1>Page "C"</h1>',  controller: 'SampleCtrl' })
                        .otherwise({ redirectTo: '/' });
            })
            .controller('SampleCtrl', function () {});
</script>
</body>
</html>